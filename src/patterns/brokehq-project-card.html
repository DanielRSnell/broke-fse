<!-- BrokeHQ Project Card -->
<article class="group rounded-lg border border-neutral-200 bg-white hover-lift p-4">
  <div class="flex items-start justify-between">
    <!-- Project Info -->
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-2">
        <!-- Company Logo/Icon -->
        <div
          v-if="project.meta('company').logo"
          class="h-6 w-6 rounded-md overflow-hidden"
        >
          <img
            :src="project.meta('company').logo"
            :alt="project.meta('company').post_title"
            class="w-full h-full object-cover"
          >
        </div>
        <div
          v-else
          class="h-6 w-6 rounded-md bg-gradient-to-br from-emerald-500 to-emerald-600"
        ></div>

        <!-- Company Name -->
        <span class="text-xs text-neutral-600">{{ project.meta('company').post_title }}</span>
      </div>

      <!-- Project Title -->
      <h3 class="font-geist text-lg font-medium tracking-tight mb-1">
        <a :href="project.link" class="hover:text-emerald-600 transition-colors">
          {{ project.title }}
        </a>
      </h3>

      <!-- Project Dates -->
      <div class="text-xs text-neutral-600">
        {{ project.meta('start_date') | date('M j') }} â†’ {{ project.meta('deadline') | date('M j') }}
      </div>
    </div>

    <!-- More Options -->
    <button class="p-2 rounded-md hover:bg-neutral-100 opacity-0 group-hover:opacity-100 transition-opacity">
      <i data-lucide="more-horizontal" class="w-5 h-5"></i>
    </button>
  </div>

  <!-- Progress Bar -->
  <div class="mt-4">
    <div class="flex items-center justify-between text-xs mb-2">
      <span class="text-neutral-600">Progress</span>
      <span class="font-medium text-neutral-900">{{ project.completion_percentage }}%</span>
    </div>
    <div class="h-2 bg-neutral-100 rounded-full overflow-hidden">
      <div
        class="h-full bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full transition-all duration-500"
        :style="`width: ${project.completion_percentage}%`"
      ></div>
    </div>
  </div>

  <!-- Stats -->
  <div class="mt-4 grid grid-cols-3 gap-3 text-center">
    <div>
      <div class="text-xs text-neutral-600">Planned</div>
      <div class="text-lg font-medium text-neutral-400">{{ project.total_tasks }}</div>
    </div>
    <div>
      <div class="text-xs text-neutral-600">In Progress</div>
      <div class="text-lg font-medium text-amber-500">{{ project.in_progress_tasks }}</div>
    </div>
    <div>
      <div class="text-xs text-neutral-600">Completed</div>
      <div class="text-lg font-medium text-indigo-600">{{ project.completed_tasks }}</div>
    </div>
  </div>

  <!-- Team Members -->
  <div class="mt-4 pt-4 border-t border-neutral-200">
    <div class="flex items-center justify-between">
      <div class="text-xs text-neutral-600">Team</div>
      <div class="flex -space-x-2">
        <div loopsource="project.meta('assigned_users')" loopvariable="user">
          <img
            :src="user.avatar"
            :alt="user.display_name"
            class="h-7 w-7 rounded-full border-2 border-white object-cover"
            :title="user.display_name"
          >
        </div>
      </div>
    </div>
  </div>
</article>
